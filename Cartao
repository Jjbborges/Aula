if ($pagamento -eq "Cartão") {
    $tipoCartao = Read-Host "`nVocê está pagando com crédito ou débito? (Digite 'crédito' ou 'débito')"
    
    if ($tipoCartao -eq "crédito") {
        $maxParcelas = 6
        $parcelas = Read-Host "Deseja parcelar em quantas vezes? (1 a $maxParcelas)"
        
        if ([int]::TryParse($parcelas, [ref]$null) -and $parcelas -ge 1 -and $parcelas -le $maxParcelas) {
            $valorParcela = [math]::Round($totalFinal / $parcelas, 2)
            Write-Host "✅ Pedido será parcelado em $parcelas x de R$ $valorParcela sem juros." -ForegroundColor Cyan
            $pagamento = "Cartão de Crédito ($parcelas x R$ $valorParcela)"
        } else {
            Write-Host "Número de parcelas inválido. Pagamento será feito em 1x no crédito." -ForegroundColor Red
            $pagamento = "Cartão de Crédito (1x R$ $totalFinal)"
        }
        
    } elseif ($tipoCartao -eq "débito") {
        $pagamento = "Cartão de Débito"
        Write-Host "Pagamento selecionado: Cartão de Débito" -ForegroundColor Cyan
    } else {
        Write-Host "Tipo de cartão inválido. Considerando como 'Cartão'" -ForegroundColor Yellow
    }
}
